<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://kit.fontawesome.com/2495b99d21.js"
      crossorigin="anonymous"
    ></script>
    <style>
      .multiImg img {
          max-width: 400px;
          height: auto;
          transition: transform 0.3s ease-in-out; /* Add a smooth transition effect */
      }
  
      .multiImg img:hover {
        transform: scale(5); /* Scale the image to 120% on hover */
      }
  </style>
  </head>
  <body>
    <div class="row g-4">
        <div class="col-3">
        </div>
 <div class="col-9">
<form action="{{ route('add_product') }}" method="post" enctype="multipart/form-data">
    <div class="form-group mb-3">
        <label for="" class="form-label">Product Name</label>
        <input type="text" name="name" id="" class="form-control">
    </div>
    <div class="form-group mb-3">
        <div class="col-12">
            <div class="row justify-content-center">
                <div class="col-4">
                    <select class="form-select form-control" name="category_id" id="category" aria-label="Default select example">
                        <option selected>Select category</option>
                            <option value="{{ $category->id }}">Main category      
                                <div class="py-5">
                                    <option class="py-5" value="{{ $child->id }}">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub
                                </div>
                                       <option value="{{ $child2->id }}">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ $child2->name }} </option>
                                        Child
                                    </option>
                            </option>
                      
                    </select>
                </div>
                <div class="col-4">
                    <select class="form-select form-control" name="sub_category_id" id="subCategory" aria-label="Default select example">
                        <option selected>Select brand</option> 
                            <option value="band_Name">brand->name</option>
                    
                    </select>
                </div>
                <div class="col-4">
                    <select class="form-select form-control" name="product_type" id="product_type" aria-label="Default select example">
                        <!-- <option selected>Select type</option> -->
                        <option value="1">Single Product</option>
                        <option value="2">Variant Product</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group mb-3">
        <label for="" class="form-label">Description</label>
        <textarea class="form-control" name="description" id="summernote" cols="30" rows="10"></textarea>
    </div>
    <div id="singleImageProduct" class="form-group mb-3">
    <label for="" class="form-label">Photo</label>
    <div class="row row-cols-lg-5 gap-4">
            <div class="productImageUploader">
                <div id="positionOfProductImg1">
                    <img id="previewImageId1" src="" alt="">
                   
                </div>
                    <div id="productUploaderContent1">
                        <label for="drop1" class="cursor-pointer d-flex justify-content-center ">
                          <div class="">
                            <div class="d-flex justify-content-center">
                                <img  class="w-full" src="Images/icon.svg" alt="" />
                              </div>
                              <div id="uploadedContent">
                                <p  class="text-center">
                                    Upload your image here
                                  </p>
                                  <p class="text-center">
                                    Supports: JPG, JPEG, PNG
                                  </p>
                              </div>
                          </div>
                        </label>
                        <input
                          type="file"
                          id="drop1"
                          class="mx"
                          style="visibility: hidden"
                          onchange="handleFileUpload(event,'productUploaderContent1','previewImageId1')"
                        />
                      </div>
           </div>
            <div class="productImageUploader">
                <div id="positionOfProductImg1">
                    <img id="previewImageId2" src="" alt="">
                </div>
                    <div id="productUploaderContent2">
                        <label for="drop2" class="cursor-pointer d-flex justify-content-center ">
                          <div class="">
                            <div class="d-flex justify-content-center">
                                <img  class="w-full" src="Images/icon.svg" alt="" />
                              </div>
                              <div id="uploadedContent">
                                <p  class="text-center">
                                    Upload your image here
                                  </p>
                                  <p class="text-center">
                                    Supports: JPG, JPEG, PNG
                                  </p>
                              </div>
                          </div>
                        </label>
                        <input
                          type="file"
                          id="drop2"
                          class="mx"
                          style="visibility: hidden"
                          onchange="handleFileUpload(event,'productUploaderContent2','previewImageId2')"
                        />
                      </div>
    
    
            <!-- <div class="row align-items-center"> -->
                
                    <!-- <input type="file" name="images[]"  onchange="preview(this)" id="selectImage" class="form-control" multiple> -->       
            <!-- </div> -->
            <!-- <img id="preview" src="#" alt="your image" class="mt-3" style="display:none;height:100px;width:100px;"/> -->
           </div>
            <div class="productImageUploader">
                <div id="positionOfProductImg1">
                    <img id="previewImageId3" src="" alt="">
                </div>
                    <div id="productUploaderContent3">
                        <label for="drop3" class="cursor-pointer d-flex justify-content-center ">
                          <div class="">
                            <div class="d-flex justify-content-center">
                                <img  class="w-full" src="Images/icon.svg" alt="" />
                              </div>
                              <div id="uploadedContent">
                                <p  class="text-center">
                                    Upload your image here
                                  </p>
                                  <p class="text-center">
                                    Supports: JPG, JPEG, PNG
                                  </p>
                              </div>
                          </div>
                        </label>
                        <input
                          type="file"
                          id="drop3"
                          class="mx"
                          style="visibility: hidden"
                          onchange="handleFileUpload(event,'productUploaderContent3','previewImageId3')"
                        />
                      </div>
    
    
            <!-- <div class="row align-items-center"> -->
                
                    <!-- <input type="file" name="images[]"  onchange="preview(this)" id="selectImage" class="form-control" multiple> -->       
            <!-- </div> -->
            <!-- <img id="preview" src="#" alt="your image" class="mt-3" style="display:none;height:100px;width:100px;"/> -->
           </div>
            <div class="productImageUploader">
                <div id="positionOfProductImg1">
                    <img id="previewImageId4" src="" alt="">
                </div>
                    <div id="productUploaderContent4">
                        <label for="drop4" class="cursor-pointer d-flex justify-content-center ">
                          <div class="">
                            <div class="d-flex justify-content-center">
                                <img  class="w-full" src="Images/icon.svg" alt="" />
                              </div>
                              <div id="uploadedContent">
                                <p  class="text-center">
                                    Upload your image here
                                  </p>
                                  <p class="text-center">
                                    Supports: JPG, JPEG, PNG
                                  </p>
                              </div>
                          </div>
                        </label>
                        <input
                          type="file"
                          id="drop4"
                          class="mx"
                          style="visibility: hidden"
                          onchange="handleFileUpload(event,'productUploaderContent4','previewImageId4')"
                        />
                      </div>
    
    
            <!-- <div class="row align-items-center"> -->
                
                    <!-- <input type="file" name="images[]"  onchange="preview(this)" id="selectImage" class="form-control" multiple> -->       
            <!-- </div> -->
            <!-- <img id="preview" src="#" alt="your image" class="mt-3" style="display:none;height:100px;width:100px;"/> -->
           </div>
            <div class="productImageUploader">
                <div id="positionOfProductImg1">
                    <img id="previewImageId5" src="" alt="">
                </div>
                    <div id="productUploaderContent5">
                        <label for="drop5" class="cursor-pointer d-flex justify-content-center ">
                          <div class="">
                            <div class="d-flex justify-content-center">
                                <img  class="w-full" src="Images/icon.svg" alt="" />
                              </div>
                              <div id="uploadedContent">
                                <p  class="text-center">
                                    Upload your image here
                                  </p>
                                  <p class="text-center">
                                    Supports: JPG, JPEG, PNG
                                  </p>
                              </div>
                          </div>
                        </label>
                        <input
                          type="file"
                          id="drop5"
                          class="mx"
                          style="visibility: hidden"
                          onchange="handleFileUpload(event,'productUploaderContent5','previewImageId5')"
                        />
                      </div>
    
    
            <!-- <div class="row align-items-center"> -->
                
                    <!-- <input type="file" name="images[]"  onchange="preview(this)" id="selectImage" class="form-control" multiple> -->       
            <!-- </div> -->
            <!-- <img id="preview" src="#" alt="your image" class="mt-3" style="display:none;height:100px;width:100px;"/> -->
           </div>
           
     </div>
       
    <!-- <div class="form-group mb-3 productPrice">
        <div class="col-12">
            <div class="row justify-content-center">
                <div class="col-6"> 
                    <label for="" class="form-label">Price</label>
                    <input type="number" name="price" id="" class="form-control" step="any">                                             
                </div>
                <div class="col-6">   
                    <label for="" class="form-label">Discount Price</label>
                    <input type="number" name="discountPrice" id="" class="form-control">                                            
                </div>
            </div>
        </div>
    </div> -->
    <div class="productVariants py-3 addVariants">
        <div class="form-group mb-3 py-1 variantsForms">
            <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3">
                      <div class="col-1">
                                <label for="" class="form-label">SL</label>
                                <p for="" class="form-label">01</p>        
                      </div>
                      <div class="col-5">
                        <label for="" class="form-label">Image 1</label>
                        <input type="file" name="image[]" id="sizeField1" class="form-control" onchange="handleMultiProductImg(event, 'multiImg1')" multiple>
                    
                        <div class="multiImg multiImg1">
                            <!-- Images will be displayed here -->
                        </div>
                    </div>
                      <div class="col-2">
                        <label for="" class="form-label">Size</label>
                        <select class="form-select form-control"  name="size[]" id="subCategory" aria-label="Default select example">
                            <option selected>Select Size</option>   
                            <option value="Hello world">Hello World</option>      
                        </select>
                      </div>
                      <div class="col-2">
                        <label for="" class="form-label">Color</label>
                        <select class="form-select form-control"  name="colour[]" id="subCategory" aria-label="Default select example">
                            <option selected>Select Color</option>                  
                        </select>
                      </div>
                      <div class="col-2">
                        <label for="" class="form-label">Model</label>
                        <input type="text" name="model" id="" class="form-control">
                      </div>
                      <div class="col-1">
                        <div id="addVariant">
                            <label for="" class="form-label"></label>
                            <a href="" id="variantBtn" class="btn btn-success mt-3">+</a>
                        </div>

                      </div>
                      <div class="col-3">
                        <label for="" class="form-label">SKU</label>
                        <input type="number" name="price" id="" class="form-control">

                      </div>
                      <div class="col-3">
                        <label for="" class="form-label">Price</label>
                        <input type="number" name="price" id="" class="form-control">
                      </div>
                      <div class="col-3">
                        <label for="" class="form-label">Discount Price</label>
                        <input type="number" name="discountPrice" id="" class="form-control">
                      </div>
                      <div class="col-2">
                        <label for="" class="form-label">Quantity</label>
                        <input type="number" name="quantity" id="" class="form-control">
                      </div>
                    
                  </div>
            <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3">
                      <div class="col-1">
                                <label for="" class="form-label">SL</label>
                                <p for="" class="form-label">01</p>        
                      </div>
                      <div class="col-5">
                        <label for="" class="form-label">Image 2</label>
                        <input type="file" name="image[]" id="sizeField2" class="form-control" onchange="handleMultiProductImg(event, 'multiImg2','')" multiple>
                    
                        <div class="multiImg multiImg2">
                            <!-- Images will be displayed here -->
                        </div>
                        <div id="closeBtn1">

                        </div>

                    </div>
                      <div class="col-2">
                        <label for="" class="form-label">Size</label>
                        <select class="form-select form-control"  name="size[]" id="subCategory" aria-label="Default select example">
                            <option selected>Select Size</option>   
                            <option value="Hello world">Hello World</option>      
                        </select>
                      </div>
                      <div class="col-2">
                        <label for="" class="form-label">Color</label>
                        <select class="form-select form-control"  name="colour[]" id="subCategory" aria-label="Default select example">
                            <option selected>Select Color</option>                  
                        </select>
                      </div>
                      <div class="col-2">
                        <label for="" class="form-label">Model</label>
                        <input type="text" name="model" id="" class="form-control">
                      </div>
                      <div class="col-1">
                        <div id="addVariant">
                            <label for="" class="form-label"></label>
                            <a href="" id="variantBtn" class="btn btn-success mt-3">+</a>
                        </div>

                      </div>
                      <div class="col-3">
                        <label for="" class="form-label">SKU</label>
                        <input type="number" name="price" id="" class="form-control">

                      </div>
                      <div class="col-3">
                        <label for="" class="form-label">Price</label>
                        <input type="number" name="price" id="" class="form-control">
                      </div>
                      <div class="col-3">
                        <label for="" class="form-label">Discount Price</label>
                        <input type="number" name="discountPrice" id="" class="form-control">
                      </div>
                      <div class="col-2">
                        <label for="" class="form-label">Quantity</label>
                        <input type="number" name="quantity" id="" class="form-control">
                      </div>
                    
                  </div>

            </div>
           
            
        </div>
    </div>
    <!-- <div class="form-group mb-3 productVariants">
        <div class="col-12">
            <div class="row justify-content-center">
                <div class="col-6">
                    <label for="" class="form-label">Size</label>
                    <div class="col-12 addSize">
                        <div class="row justify-content-center">
                            <div class="col-10">
                                <input type="text" name="size[]" id="sizeField" class="form-control">
                            </div>
                            <div class="col-2 me-2">
                                <button class="btn btn-success" id="addSizeInput">+</button>
                            </div>
                        </div>       
                    </div>
                </div>
                <div class="col-6">
                    <label for="" class="form-label">Colour</label>
                    <div class="col-12 addColour">
                        <div class="row justify-content-center">
                            <div class="col-10">
                                <input type="text" name="colour[]" id="" class="form-control">
                            </div>
                            <div class="col-2 me-2">
                                <button class="btn btn-success" id="addColourInput">+</button>
                            </div>
                        </div>       
                    </div>                
                </div>
            </div>
        </div>
    </div> -->
    <div class="form-group mb-3">
        <div class="col-12">
            <div class="row justify-content-center">
                <div class="col-3">
                    <label for="" class="form-label">Model</label>
                    <input type="text" name="model" id="" class="form-control">   
                </div>
                <div class="col-3">
                    <label for="" class="form-label">SKU</label>
                    <input type="number" name="product_code" id="" class="form-control" value="{{ $product_code }}">
                </div>
                <div id="singleProductPrice" class="col-3"> 
                    <label for=""  class="form-label">Price</label>
                    <input type="number" name="price" id="" class="form-control" step="any">                                             
                </div>
                <div class="col-3">
                    <label for="" class="form-label">Discount price</label>
                    <input type="text" name="discountPrice" id="" class="form-control"> 
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-end align-items-center gap-2">
        <div class="text-right">
            <button type="submit" class="btn btn-primary">Draft</button>
        </div>
        <div class="text-right">
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
       
    </div>
   
</form>
</div>
</div>



<script
src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
crossorigin="anonymous"
></script>
<script
src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
crossorigin="anonymous"
></script>
<script>
    function handleFileUpload(event, uploaderId,previewImageId) {
      const fileInput = event.target;  
      const previewImage = document.querySelector(`#${previewImageId}`);
      const uploadedContent = document.querySelector(`#${uploaderId}`);
      const positionOfProductImg1=document.querySelector("positionOfProductImg1")
      console.log(uploadedContent) 
      // Make sure a file is selected
      if (fileInput.files.length > 0) {
        const selectedFile = fileInput.files[0];
        const objectURL = URL.createObjectURL(selectedFile);
        uploadedContent.style.display="none";
        previewImage.src = objectURL;
        previewImage.style.width="290px";
        previewImage.style.height="200px";
        previewImage.style.objectFit="contain";
        // Log the URL to the console (you can use this URL as needed)
        console.log(`Image URL for ${uploaderId}:`, objectURL);
      }
    }

    function closeImage(imageContainerId, uploaderId) {
        const imageContainer = document.getElementById(imageContainerId);
        const uploadedContent = document.querySelector(`#${uploaderId}`);
        const previewImage = imageContainer.querySelector('img');
        previewImage.src = ""; // Clear the image source
        uploadedContent.style.display = "block"; // Show the uploader content
    }
    </script>
    <script>
      function handleMultiProductImg(event, multiImg) {
        const files = event.target.files;
        const multiImgDiv = document.querySelector(`.${multiImg}`);
        multiImgDiv.innerHTML = '';
        for (const file of files) {
            const imgElement = document.createElement('img');
            imgElement.src = URL.createObjectURL(file);
            const closeButton = document.createElement('button');
            closeButton.innerText = 'Close';

            closeButton.onclick = function () {
                imgContainer.remove();
            };
            imgElement.alt = 'Uploaded Image';
            multiImgDiv.style.display = "flex";
            multiImgDiv.style.marginTop = "20px";
            multiImgDiv.style.marginBottom = "10px";
            multiImgDiv.style.justifyContent = "start";
            multiImgDiv.style.alignItems = "contain";
            multiImgDiv.style.gap = "10px";
            imgElement.style.height = "80px";
            imgElement.style.width = "100px";
            imgElement.style.border = "1px dotted #d5dadf";
            imgElement.style.objectFit = "content";
            multiImgDiv.appendChild(imgElement);
            
            
        }
    }
  </script>

  </body>
</html>



